PROGRAM Txt2Com;

USES Crt, Dos;

CONST
  Header : ARRAY[1..350] OF Byte
         = ($E8,$AC,$00,$83,$E8,$02,$A3,$D6,$01,$BE,$5D,$02,$FC,$2A,$FF,
            $B4,$08,$CD,$10,$8A,$FC,$2B,$C9,$BA,$4F,$32,$B8,$00,$06,$CD,
            $10,$8A,$FB,$2B,$D2,$B4,$02,$CD,$10,$AC,$3C,$1B,$74,$50,$50,
            $B4,$02,$8A,$D0,$CD,$21,$58,$3C,$0D,$75,$42,$B4,$02,$B2,$0A,
            $CD,$21,$FF,$06,$D8,$01,$A1,$D6,$01,$39,$06,$D8,$01,$72,$2F,
            $BF,$24,$02,$8B,$D7,$B4,$09,$CD,$21,$B4,$0C,$B0,$07,$CD,$21,
            $2A,$FF,$B4,$08,$CD,$10,$8A,$FC,$2B,$C9,$BA,$4F,$32,$B8,$00,
            $06,$CD,$10,$8A,$FB,$2B,$D2,$B4,$02,$CD,$10,$C7,$06,$D8,$01,
            $01,$00,$EB,$AB,$B8,$00,$0C,$CD,$21,$B8,$00,$4C,$CD,$21,$53,
            $51,$06,$52,$55,$B4,$12,$B3,$10,$2B,$C9,$CD,$10,$2B,$C0,$E3,
            $12,$8E,$C0,$26,$F6,$06,$87,$04,$08,$75,$08,$B8,$30,$11,$CD,
            $10,$8A,$C2,$98,$5D,$5A,$07,$59,$5B,$C3,$55,$8B,$EC,$83,$C4,
            $FE,$55,$E8,$CD,$FF,$0B,$C0,$74,$0A,$83,$F8,$64,$73,$05,$89,
            $46,$FE,$EB,$05,$C7,$46,$FE,$18,$00,$8B,$46,$FE,$40,$5D,$8B,
            $E5,$5D,$C3,$00,$00,$00,$01,$00,$20,$54,$58,$54,$32,$43,$4F,
            $4D,$20,$43,$6F,$6E,$76,$65,$72,$74,$65,$72,$2C,$20,$28,$43,
            $29,$20,$62,$79,$20,$4D,$69,$63,$68,$61,$65,$6C,$20,$4A,$6F,
            $68,$6E,$65,$2C,$20,$41,$6C,$6C,$20,$72,$69,$67,$68,$74,$73,
            $20,$72,$65,$73,$65,$72,$76,$65,$64,$2C,$20,$4D,$6F,$64,$75,
            $6C,$20,$54,$50,$37,$30,$20,$0D,$0A,$3E,$3E,$3E,$20,$20,$42,
            $69,$74,$74,$65,$20,$65,$69,$6E,$65,$20,$54,$61,$73,$74,$65,
            $20,$66,$81,$72,$20,$64,$69,$65,$20,$6E,$84,$63,$68,$73,$74,
            $65,$20,$53,$65,$69,$74,$65,$20,$64,$72,$81,$63,$6B,$65,$6E,
            $21,$24,$00,$40,$1B);

VAR
  Data,a   : Char;
  i        : Integer;
  ComFile,
  TxtFile  : STRING[12];
  CF,TF    : Text;

BEGIN
  ClrScr;
  WriteLn('TXT2COM');
  Write('Text file: ');
  ReadLn(TxtFile);
  Write('Com file: ');
  ReadLn(ComFile);
  Assign(TF,TxtFile);
  Assign(CF,ComFile);
  Reset(TF);
  Rewrite(CF);
  FOR i := 1 TO 349 DO Write(CF,Chr(Header[i]));
  REPEAT
    Read(TF,Data);
    IF Data <> Chr(10) THEN Write(CF,Data);
  UNTIL EoF(TF);
  Write(CF,Chr(Header[350]));
  Close(TF);
  Close(CF);
  Write(TxtFile,' wurde in ',ComFile,' konvertiert.');
END.
